var ghostSearchkey="99efee9603c92e5cd04501f069",baiduTongJikey="37d3bf3116f041cb10bd1d890e65bcfc",leancloudAppId="rEDT0uBB2LEdndoJ4od2SlKf-gzGzoHsz",leancloudAppKey="lmX57j7hrYGCHROA72tBUIXq",googleAnalyticsId="UA-141063659-1";!function(o){o(document).ready(function(){"https"===window.location.protocol.split(":")[0]?loadScript("https://zz.bdstatic.com/linksubmit/push.js"):loadScript("http://push.zhanzhang.baidu.com/push.js"),loadScript("https://hm.baidu.com/hm.js?"+baiduTongJikey),loadScript("https://www.googletagmanager.com/gtag/js?id="+googleAnalyticsId,function(){function t(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],t("js",new Date),t("config",googleAnalyticsId)}),0!==o("#vcomments").length&&loadScript("//cdn.jsdelivr.net/npm/leancloud-storage/dist/av-min.js",function(){loadScript("https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js",function(){null!==document.getElementById("vcomments")&&new Valine({el:"#vcomments",appId:leancloudAppId,appKey:leancloudAppKey,notify:!0,verify:!0,avatar:"mm",visitor:!0,highlight:!0,recordIP:!0,placeholder:"请您理智发言，共建美好社会！"})})}),0!==o("#ghost-search-field").length&&loadScript("//cdn.jsdelivr.net/npm/@tryghost/content-api/umd/content-api.min.js",function(){loadScript("//cdn.jsdelivr.net/npm/ghost-search/dist/ghost-search.min.js",function(){loadScript("//cdn.jsdelivr.net/npm/dayjs/dayjs.min.js",function(){new GhostSearch({key:ghostSearchkey,host:[location.protocol,"//",location.host].join(""),trigger:"focus",defaultValue:"",options:{keys:["title","published_at","url"]},api:{parameters:{fields:["title","published_at","url"]}},template:function(t){var e=dayjs(t.published_at).format("YYYY年MM月DD日");return'<a href="'+t.url+'" class="ghost-search-item"><h2>'+t.title+"</h2><span>发布日期："+e+"</span></a>"},on:{afterDisplay:function(t){var e=o(".search-meta"),a=e.attr("data-no-results-text");a=a.replace("[results]",t.total),e.text(a).show()}}});o("#nav-top-search").keypress(function(t){13===t.which&&(o(".app-search-result").addClass("active"),o("html").addClass("overflow-hidden"),o("#ghost-search-field").val(o(this).val()).focus())}),o("#mobile-search").keypress(function(t){13===t.which&&(o(".app-search-result").addClass("active"),o("html").addClass("overflow-hidden"),o("#ghost-search-field").val(o(this).val()).focus())}),o(".search-close").click(function(){o(".app-search-result").removeClass("active"),o("#nav-top-search").val(""),o("html").removeClass("overflow-hidden")})})})}),o(document).on("click","a",function(t){var e=t.target.href,a=t.target.hostname;/^https?:\/\/(([a-zA-Z0-9_-])+(\.)?)*(:\d+)?(\/((\.)?(\?)?=?&?[a-zA-Z0-9_-](\?)?)*)*$/i.test(e)&&a!==window.location.hostname&&(t.preventDefault(),window.open(t.target.href))})})}(jQuery);